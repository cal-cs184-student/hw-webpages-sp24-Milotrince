<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=Lx1xfUTR4qFjwg0Z_pb902yWOW57Glq29V3__n4AGA7eUTbR4W0XOgE2iH4kL8Gh);ul.lst-kix_ijyoeguo8dsk-8{list-style-type:none}ul.lst-kix_ijyoeguo8dsk-7{list-style-type:none}ul.lst-kix_ijyoeguo8dsk-6{list-style-type:none}ul.lst-kix_ijyoeguo8dsk-5{list-style-type:none}ul.lst-kix_ijyoeguo8dsk-4{list-style-type:none}ul.lst-kix_ijyoeguo8dsk-3{list-style-type:none}ul.lst-kix_ijyoeguo8dsk-2{list-style-type:none}ul.lst-kix_ijyoeguo8dsk-1{list-style-type:none}ul.lst-kix_ijyoeguo8dsk-0{list-style-type:none}.lst-kix_ijyoeguo8dsk-2>li:before{content:"\0025a0   "}.lst-kix_ijyoeguo8dsk-0>li:before{content:"\0025cf   "}.lst-kix_ijyoeguo8dsk-4>li:before{content:"\0025cb   "}.lst-kix_ijyoeguo8dsk-3>li:before{content:"\0025cf   "}ul.lst-kix_j8qnef1zbj5s-6{list-style-type:none}ul.lst-kix_j8qnef1zbj5s-7{list-style-type:none}ul.lst-kix_j8qnef1zbj5s-8{list-style-type:none}.lst-kix_ijyoeguo8dsk-1>li:before{content:"\0025cb   "}.lst-kix_ijyoeguo8dsk-8>li:before{content:"\0025a0   "}.lst-kix_ijyoeguo8dsk-7>li:before{content:"\0025cb   "}.lst-kix_ijyoeguo8dsk-6>li:before{content:"\0025cf   "}.lst-kix_ijyoeguo8dsk-5>li:before{content:"\0025a0   "}ul.lst-kix_g0n9xli7c52j-0{list-style-type:none}ul.lst-kix_ievdqhqbhifd-0{list-style-type:none}ul.lst-kix_ievdqhqbhifd-1{list-style-type:none}ul.lst-kix_ievdqhqbhifd-2{list-style-type:none}.lst-kix_ievdqhqbhifd-1>li:before{content:"\0025cb   "}.lst-kix_ievdqhqbhifd-3>li:before{content:"\0025cf   "}ul.lst-kix_ievdqhqbhifd-3{list-style-type:none}ul.lst-kix_ievdqhqbhifd-4{list-style-type:none}ul.lst-kix_ievdqhqbhifd-5{list-style-type:none}ul.lst-kix_ievdqhqbhifd-6{list-style-type:none}.lst-kix_ievdqhqbhifd-2>li:before{content:"\0025a0   "}ul.lst-kix_ievdqhqbhifd-7{list-style-type:none}ul.lst-kix_ievdqhqbhifd-8{list-style-type:none}.lst-kix_ievdqhqbhifd-5>li:before{content:"\0025a0   "}.lst-kix_ievdqhqbhifd-4>li:before{content:"\0025cb   "}.lst-kix_g0n9xli7c52j-7>li:before{content:"\0025cb   "}.lst-kix_g0n9xli7c52j-6>li:before{content:"\0025cf   "}.lst-kix_g0n9xli7c52j-8>li:before{content:"\0025a0   "}ul.lst-kix_j8qnef1zbj5s-0{list-style-type:none}ul.lst-kix_j8qnef1zbj5s-1{list-style-type:none}.lst-kix_g0n9xli7c52j-5>li:before{content:"\0025a0   "}ul.lst-kix_j8qnef1zbj5s-2{list-style-type:none}ul.lst-kix_j8qnef1zbj5s-3{list-style-type:none}.lst-kix_j8qnef1zbj5s-0>li:before{content:"\0025cf   "}ul.lst-kix_j8qnef1zbj5s-4{list-style-type:none}ul.lst-kix_j8qnef1zbj5s-5{list-style-type:none}.lst-kix_ievdqhqbhifd-6>li:before{content:"\0025cf   "}.lst-kix_ievdqhqbhifd-7>li:before{content:"\0025cb   "}.lst-kix_ievdqhqbhifd-8>li:before{content:"\0025a0   "}.lst-kix_j8qnef1zbj5s-6>li:before{content:"\0025cf   "}.lst-kix_j8qnef1zbj5s-7>li:before{content:"\0025cb   "}.lst-kix_g0n9xli7c52j-0>li:before{content:"\0025cf   "}.lst-kix_g0n9xli7c52j-1>li:before{content:"\0025cb   "}.lst-kix_j8qnef1zbj5s-4>li:before{content:"\0025cb   "}.lst-kix_j8qnef1zbj5s-8>li:before{content:"\0025a0   "}.lst-kix_g0n9xli7c52j-3>li:before{content:"\0025cf   "}.lst-kix_j8qnef1zbj5s-2>li:before{content:"\0025a0   "}.lst-kix_j8qnef1zbj5s-3>li:before{content:"\0025cf   "}.lst-kix_g0n9xli7c52j-2>li:before{content:"\0025a0   "}.lst-kix_g0n9xli7c52j-4>li:before{content:"\0025cb   "}.lst-kix_j8qnef1zbj5s-1>li:before{content:"\0025cb   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_g0n9xli7c52j-8{list-style-type:none}ul.lst-kix_g0n9xli7c52j-7{list-style-type:none}ul.lst-kix_g0n9xli7c52j-6{list-style-type:none}ul.lst-kix_g0n9xli7c52j-5{list-style-type:none}ul.lst-kix_g0n9xli7c52j-4{list-style-type:none}ul.lst-kix_g0n9xli7c52j-3{list-style-type:none}.lst-kix_j8qnef1zbj5s-5>li:before{content:"\0025a0   "}ul.lst-kix_g0n9xli7c52j-2{list-style-type:none}ul.lst-kix_g0n9xli7c52j-1{list-style-type:none}.lst-kix_ievdqhqbhifd-0>li:before{content:"\0025cf   "}ol{margin:0;padding:0}table td,table th{padding:0}.c8{padding-top:10pt;padding-bottom:5pt;line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c19{padding-top:0pt;padding-bottom:2pt;line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c18{padding-top:20pt;padding-bottom:6pt;line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c16{padding-top:0pt;padding-bottom:16pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c22{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Helvetica Neue";font-style:normal}.c15{padding-top:10pt;padding-bottom:5pt;line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Helvetica Neue";font-style:normal}.c6{padding-top:20pt;padding-bottom:6pt;line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c4{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Helvetica Neue";font-style:normal}.c1{padding-top:0pt;padding-bottom:5pt;line-height:1.3;orphans:2;widows:2;text-align:center}.c5{padding-top:0pt;padding-bottom:5pt;line-height:1.3;orphans:2;widows:2;text-align:left}.c21{color:#000000;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Helvetica Neue";font-style:normal}.c14{color:#000000;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Helvetica Neue";font-style:normal}.c17{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c9{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#0000ee;text-decoration:underline}.c23{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c10{margin-left:36pt;padding-left:0pt}.c20{color:inherit;text-decoration:inherit}.c11{padding:0;margin:0}.c7{height:11pt}.c13{vertical-align:super}.c3{font-style:italic}.c12{vertical-align:sub}.c0{font-weight:700}.title{padding-top:0pt;color:#000000;font-weight:700;font-size:16pt;padding-bottom:2pt;font-family:"Helvetica Neue";line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:center}.subtitle{padding-top:0pt;color:#000000;font-size:12pt;padding-bottom:16pt;font-family:"Helvetica Neue";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}li{color:#000000;font-size:11pt;font-family:"Helvetica Neue"}p{margin:0;color:#000000;font-size:11pt;font-family:"Helvetica Neue"}h1{padding-top:20pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:6pt;font-family:"Helvetica Neue";line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:10pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:5pt;font-family:"Helvetica Neue";line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Helvetica Neue";line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Helvetica Neue";line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Helvetica Neue";line-height:1.3;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Helvetica Neue";line-height:1.3;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c23 doc-content"><p class="c19 title" id="h.58bx1ws1g3ou"><span class="c0 c21">CS 184 Final Project Writeup: Fluid Pong</span></p><p class="c16 subtitle" id="h.26rxq32cfqvm"><span class="c22">Trinity Chung, Anna Dymchenko, Oliver Ni, Tiffany Sun</span></p><p class="c5"><span>Link to video: </span><span class="c9"><a class="c20" href="https://www.google.com/url?q=https://drive.google.com/file/d/1JeSGKqb3ziRjqZrIygjA0kx13xt2udNi/view?usp%3Ddrive_link&amp;sa=D&amp;source=editors&amp;ust=1714548176451349&amp;usg=AOvVaw30soihO5RWaILvszaWcgue">fluidpong-final.mp4</a></span><span class="c17"><a class="c20" href="https://www.google.com/url?q=https://drive.google.com/file/d/1JeSGKqb3ziRjqZrIygjA0kx13xt2udNi/view?usp%3Ddrive_link&amp;sa=D&amp;source=editors&amp;ust=1714548176451645&amp;usg=AOvVaw2vK12_RwAoYlWjxzNT_OAQ">https://drive.google.com/file/d/1JeSGKqb3ziRjqZrIygjA0kx13xt2udNi/view?usp=drive_link</a></span></p><h1 class="c6" id="h.jtgcw8yf4s9e"><span class="c14 c0">Abstract</span></h1><p class="c5"><span class="c2">Our project is FluidPong, a classic two-player game with a twist. In addition to moving the paddles, players can also manipulate the fluid on the board. We offer two different kinds of fluids, 1) SPH (particle-based) rendered with a metaball shader, and 2) Navier-Stokes (grid-based) rendered using bilinear filter shader.</span></p><h1 class="c6" id="h.9b5em7bd7lsn"><span class="c14 c0">Technical Approach</span></h1><h2 class="c8" id="h.nh82whjq4p8h"><span class="c4 c0">Rust &amp; Bevy</span></h2><p class="c5"><span>We wrote FluidPong entirely in Rust. We used Bevy, a minimal game engine which provides an Entity-Component-System software pattern with a renderer, but no physics. We wanted to try using Rust after hearing many exciting things about its memory and type safety. Furthermore, Bevy provides a cross-platform renderer, which enables us to focus solely on the fluid simulation portion of our project, rather than having to wrangle OpenGL (or co.).</span></p><h2 class="c8" id="h.wi9wrmysthq3"><span class="c4 c0">Smoothed Particle Hydrodynamics</span></h2><p class="c5"><span class="c2">One of the two approaches to fluid simulation that we tried out was a technique called Smoothed Particle Hydrodynamics (SPH). Fundamentally, fluids and the laws that describe them are continuous, and we can only approximate them with numerical methods. Different techniques for simulating fluids discretize them in different ways. SPH chooses to discretize the fluid using a collection of particles, each particle representing a small portion of the fluid.</span></p><p class="c5"><span class="c2">Although it&rsquo;s easy to think of each particle in an SPH simulation as representing molecules or water droplets, they do not directly represent such physical quantities. Rather, these particles are simply points in space at which the properties of the fluid, such as the mass and velocity, are known and stored. From these known points, we can derive the values of these properties at every other point in the fluid by continuously interpolating between them.</span></p><p class="c5"><span>We interpolate these values based on a </span><span>kernel function </span><span class="c3">W</span><span class="c2">, which describes the degree of influence each particle should have on a point in space depending on that point&rsquo;s distance from the particle in question. Intuitively, it makes sense that the stored properties of a particle very far away should be weighted less. The interpolation equation is thus as follows:</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 208.94px; height: 48.00px;"><img alt="" src="images/image4.png" style="width: 208.94px; height: 48.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span>With these foundations, we can interpolate any property </span><span class="c3">A</span><span>&nbsp;of the fluid based on the known values </span><span class="c3">A</span><span class="c3 c12">j</span><span>&nbsp;</span><span>at each particle position. Notice that the formula depends on the density </span><span class="c3">&rho;</span><span class="c2">.</span></p><p class="c5"><span>(For the sake of brevity, we omit discussion about the choice of </span><span class="c3">W</span><span>, but know that a &ldquo;nice&rdquo; choice for a kernel function typically tapers off to 0 after some kernel radius </span><span class="c3">h</span><span class="c2">. This property also enables a variety of optimizations to be made!)</span></p><p class="c5"><span>To progress the simulation, our first step is to compute this density value. Plugging in </span><span class="c3">&rho;</span><span>&nbsp;for </span><span class="c3">A</span><span>&nbsp;conveniently cancels out that factor in our formula, so we can compute </span><span class="c3">&rho;</span><span>&nbsp;as a weighted sum of mass. We also compute a pressure </span><span class="c3">p</span><span class="c2">&nbsp;at each particle.</span></p><p class="c5"><span class="c2">Now that we have computed the density and pressure in addition to the stored values of mass and velocity, we can compute the force density acting on each particle. In our model, this is</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 463.50px; height: 26.17px;"><img alt="" src="images/image1.png" style="width: 463.50px; height: 26.17px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c2">which is based on the Navier-Stokes equations for the motion of fluids.</span></p><p class="c5"><span class="c2">The different contributions to this total force density are:</span></p><ul class="c11 lst-kix_g0n9xli7c52j-0 start"><li class="c5 c10 li-bullet-0"><span>Pressure force</span><span>&nbsp;</span><span class="c0">f</span><span class="c3 c12">i</span><span class="c13">pressure</span><span>&nbsp;= &minus;&nabla;</span><span class="c3">p</span><span>(</span><span class="c0">r</span><span>) &mdash; This component keeps particles from staying too close together. This is computed by differentiating the equation for </span><span class="c3">A</span><span>(</span><span class="c0">r</span><span>) shown above, which can be done quickly if the gradient of </span><span class="c3">W</span><span class="c2">&nbsp;is known.</span></li><li class="c5 c10 li-bullet-0"><span>Viscosity force </span><span class="c0">f</span><span class="c3 c12">i</span><span class="c13">viscosity</span><span>&nbsp;= </span><span class="c3">&mu;</span><span>&nabla;</span><span class="c13">2</span><span class="c0">v</span><span>&nbsp;&mdash; This component speeds up slow-moving particles near fast-moving ones, and vice versa. This is computed using the Laplacian of A(</span><span class="c0">r</span><span>) shown above, which can also be done quickly if &nabla;</span><span class="c13">2</span><span class="c3">W</span><span class="c2">&nbsp;is known.</span></li><li class="c5 c10 li-bullet-0"><span class="c2">Gravity force &mdash; This component is self-explanatory and only enabled if desired.</span></li><li class="c5 c10 li-bullet-0"><span class="c2">External forces &mdash; This component allows for user interaction, such as being able to grab fluid and flick it around the screen, or, in FluidPong, the paddles.</span></li></ul><p class="c5"><span class="c2">After computing this force density, an acceleration can be derived based on Newton&rsquo;s second law, and, finally, we can use an integrator such as Euler&rsquo;s method in order to update the positions and velocities of the particles before repeating the process over again.</span></p><p class="c5"><span class="c2">This technique for simulating fluids performs remarkably well, for how simple the computations it requires are. SPH&rsquo;s meshless, particle-based nature enables a high level of data parallelism, since each particle&rsquo;s future state is only dependent on the states of the few particles around it. This made it a great candidate for FluidPong&rsquo;s simulation backing, where we need an algorithm that is fast enough to simulate in real time.</span></p><p class="c5"><span>The amount of calculation required for SPH for N particles is technically O(N</span><span class="c13">2</span><span>), but it can be reduced to near O(N) using acceleration structures. We used a </span><span class="c0">uniform spatial partition</span><span class="c2">, so that we can look up neighboring particles when doing local calculations for each particle.</span></p><p class="c5"><span>Compared to grid-based methods, SPH is great at simulating scenarios where the volume occupied by the fluid at any particular point in time is much smaller than the possible range of the fluid in space, since it places the resolution (particles) where the mass currently is. However, certain properties such as boundary conditions are more difficult to model with SPH than with grid-based methods. Additionally, the performance of our implementation was heavily dependent on the parameters, and required significant fine tuning to be satisfactory.</span></p><h2 class="c8" id="h.3bqxdcuk8o9v"><span class="c4 c0">Grid-based Navier-Stokes</span></h2><p class="c5"><span class="c2">The second approach we used to simulate fluid dynamics within a two-dimensional game environment was utilizing the Navier-Stokes model. The Navier-Stokes equations describe the motion of fluid substances and are expressed as:</span></p><p class="c1"><span>&nbsp; &nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 356.50px; height: 97.69px;"><img alt="" src="images/image5.png" style="width: 356.50px; height: 97.69px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c2">Where u is the velocity field, p is the pressure field, v represents kinematic viscosity, and g denotes external forces like gravity. These equations, which describe the motion of fluid substances, were adapted to calculate the interactions and movements of fluid particles on a grid. Each grid represented a portion of the fluid with distinct properties such as velocity and pressure. To achieve real-time simulation suitable for interactive gameplay, we implemented a semi-Lagrangian method for advection, providing stable and accurate particle movement based on velocity fields by combining elements of both Lagrangian particle tracking and Eulerian grid-based calculation. </span></p><p class="c5"><span class="c2">The functions implemented addressed diffusion, advection, and projection, each corresponding to critical components of Naiver-Stokes equations. Diffusion in the simulation is handled through a function that applies the diffusion process to a given velocity or scalar field, using a linear solver. This process simulates the physical phenomenon where particles spread out over time due to molecular motion, even in the absence of bulk motion. This diffusion is a discrete approximation to the heat equation part of the Navier-Stokes equation. Meanwhile, the advection is implemented through effectively capturing the derivative-free characteristic of incompressible flow. The implementation involves tracing fluid elements back to their origins over the timestep using bilinear interpolation to estimate new values from old positions. We also ended up utilizing Chorin&rsquo;s projection method to maintain the incompressibility of the fluid for not only physical accuracy but also to separate the pressure calculation from the main velocity and density updates to reduce complexity per timestep. &nbsp;</span></p><h1 class="c6" id="h.8g6pz1zfusq4"><span class="c14 c0">Shaders</span></h1><h2 class="c8" id="h.cmq05sn1324w"><span class="c4 c0">Metaball Shader</span></h2><h2 class="c15" id="h.2hb851749f17"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 174.99px; height: 154.49px;"><img alt="" src="images/image6.png" style="width: 174.99px; height: 154.49px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h2><p class="c5"><span class="c2">Metaballs are organic, blob-like objects that merge and blend into each other smoothly when they come close. Metaballs are commonly used to simulate fluid and gelatinous substances in graphics and animations, such as gel in Portal 2.</span></p><p class="c5"><span class="c2">The concept behind a metaball shader involves using a function to define the influence or &quot;field&quot; of each metaball at any point in space. The field typically decreases with distance from the metaball&#39;s center. When multiple metaballs are near each other, their fields add together. The shader computes the total field at each point and uses a threshold to determine whether the point is inside or outside the metaballs.</span></p><p class="c5"><span class="c2">For our particular metaball shader, we also calculated the relative speed and density using the metaball method to render color and opacity respectively.</span></p><h2 class="c8" id="h.no63cyfs3b5u"><span class="c4 c0">Grid with Bilinear Interpolation Shader</span></h2><h2 class="c15" id="h.gochrrcsh90p"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 132.85px; height: 115.36px;"><img alt="" src="images/image8.png" style="width: 132.85px; height: 115.36px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 133.00px; height: 114.92px;"><img alt="" src="images/image3.png" style="width: 133.00px; height: 114.92px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h2><p class="c5"><span class="c2">We rendered the grid with the speed at each grid cell represented by color and density by its opacity. The game screen is 640 by 480 pixels and the grid resolution is 96 by 72 cells, which means the result is quite blocky. To resolve this, we used bilinear filtering which we learned in class during the texture sampling unit. Interpolating the values between cells resulted in the final smooth look.</span></p><p class="c5 c7"><span class="c2"></span></p><p class="c5"><span class="c4 c0">Challenges</span></p><p class="c5"><span class="c2">When we first implemented SPH, we were unsure if it actually worked because we did not tune the parameters. So we rewrote SPH, along with a custom simulation variable system that would allow us to tune the parameters as the simulation was running. This took a while to set up but helped significantly. This allowed us to verify and tune NS fluid quickly. </span></p><p class="c5 c7"><span class="c2"></span></p><h1 class="c6" id="h.b0dzmlfbu59m"><span class="c0 c14">Results</span></h1><h1 class="c18" id="h.y5e2ec8bh8w3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 498.50px; height: 408.31px;"><img alt="" src="images/image7.png" style="width: 498.50px; height: 408.31px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h1><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.05px; height: 422.50px;"><img alt="" src="images/image2.png" style="width: 515.05px; height: 422.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c6" id="h.cg7lfpkh4www"><span class="c14 c0">References</span></h1><p class="c5"><span>Bridson, Robert, and Matthias M&uuml;ller-Fischer. &quot;Fluid simulation: SIGGRAPH 2007 Course Notes.&quot; ACM SIGGRAPH 2007 courses. 2007. 1-81. </span><span class="c17"><a class="c20" href="https://www.google.com/url?q=https://www.cs.ubc.ca/~rbridson/fluidsimulation/fluids_notes.pdf&amp;sa=D&amp;source=editors&amp;ust=1714548176459746&amp;usg=AOvVaw1zrKAL-d2SIp7bTepDVnaE">https://www.cs.ubc.ca/~rbridson/fluidsimulation/fluids_notes.pdf</a></span></p><h1 class="c6" id="h.g0w6lhemeh30"><span class="c14 c0">Contributions</span></h1><p class="c5"><span class="c2">Trinity Chung - Navier-Stokes implementation</span></p><p class="c5"><span class="c2">Anna Dymchenko - Pong implementation and integration with fluid</span></p><p class="c5"><span class="c2">Oliver Ni - SPH implementation</span></p><p class="c5"><span class="c2">Tiffany Sun - Shader implementation</span></p></body></html>